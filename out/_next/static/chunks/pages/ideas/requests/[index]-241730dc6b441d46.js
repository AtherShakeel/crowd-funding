(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{68802:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ideas/requests/[index]",function(){return t(73971)}])},73971:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return U},default:function(){return W}});var n=t(51438),s=t(52951),a=t(88029),l=t(60460),i=t(85893),c=t(67294),o=t(83544),d=t(87462),u=t(13871),p=t(86010),h=t(98459),v=t(28935),f=t(12519),m=t(92248);function Z(e){var r=e.children,t=e.className,n=(0,p.Z)(t),s=(0,v.Z)(Z,e),a=(0,f.Z)(Z,e);return c.createElement(a,(0,d.Z)({},s,{className:n}),r)}Z.handledProps=["as","children","className"],Z.defaultProps={as:"tbody"},Z.propTypes={};var x=Z,g=t(69591),b=t(45150);function w(e){var r=e.active,t=e.children,n=e.className,s=e.collapsing,a=e.content,l=e.disabled,i=e.error,o=e.icon,u=e.negative,Z=e.positive,x=e.selectable,g=e.singleLine,j=e.textAlign,G=e.verticalAlign,N=e.warning,k=e.width,A=(0,p.Z)((0,h.lG)(r,"active"),(0,h.lG)(s,"collapsing"),(0,h.lG)(l,"disabled"),(0,h.lG)(i,"error"),(0,h.lG)(u,"negative"),(0,h.lG)(Z,"positive"),(0,h.lG)(x,"selectable"),(0,h.lG)(g,"single line"),(0,h.lG)(N,"warning"),(0,h.X4)(j),(0,h.Ok)(G),(0,h.H0)(k,"wide"),n),y=(0,v.Z)(w,e),E=(0,f.Z)(w,e);return m.kK(t)?c.createElement(E,(0,d.Z)({},y,{className:A}),b.Z.create(o),a):c.createElement(E,(0,d.Z)({},y,{className:A}),t)}w.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],w.defaultProps={as:"td"},w.propTypes={},w.create=(0,g.u5)(w,(function(e){return{content:e}}));var j=w;function G(e){var r=e.children,t=e.className,n=e.content,s=e.fullWidth,a=(0,p.Z)((0,h.lG)(s,"full-width"),t),l=(0,v.Z)(G,e),i=(0,f.Z)(G,e);return c.createElement(i,(0,d.Z)({},l,{className:a}),m.kK(r)?n:r)}G.handledProps=["as","children","className","content","fullWidth"],G.defaultProps={as:"thead"},G.propTypes={};var N=G;function k(e){var r=e.as,t=(0,v.Z)(k,e);return c.createElement(N,(0,d.Z)({},t,{as:r}))}k.handledProps=["as"],k.propTypes={},k.defaultProps={as:"tfoot"};var A=k;function y(e){var r=e.as,t=e.className,n=e.sorted,s=(0,p.Z)((0,h.cD)(n,"sorted"),t),a=(0,v.Z)(y,e);return c.createElement(j,(0,d.Z)({},a,{as:r,className:s}))}y.handledProps=["as","className","sorted"],y.propTypes={},y.defaultProps={as:"th"};var E=y;function P(e){var r=e.active,t=e.cellAs,n=e.cells,s=e.children,a=e.className,l=e.disabled,i=e.error,o=e.negative,Z=e.positive,x=e.textAlign,g=e.verticalAlign,b=e.warning,w=(0,p.Z)((0,h.lG)(r,"active"),(0,h.lG)(l,"disabled"),(0,h.lG)(i,"error"),(0,h.lG)(o,"negative"),(0,h.lG)(Z,"positive"),(0,h.lG)(b,"warning"),(0,h.X4)(x),(0,h.Ok)(g),a),G=(0,v.Z)(P,e),N=(0,f.Z)(P,e);return m.kK(s)?c.createElement(N,(0,d.Z)({},G,{className:w}),(0,u.Z)(n,(function(e){return j.create(e,{defaultProps:{as:t}})}))):c.createElement(N,(0,d.Z)({},G,{className:w}),s)}P.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],P.defaultProps={as:"tr",cellAs:"td"},P.propTypes={},P.create=(0,g.u5)(P,(function(e){return{cells:e}}));var R=P;function C(e){var r=e.attached,t=e.basic,n=e.celled,s=e.children,a=e.className,l=e.collapsing,i=e.color,o=e.columns,Z=e.compact,g=e.definition,b=e.fixed,w=e.footerRow,j=e.headerRow,G=e.headerRows,k=e.inverted,y=e.padded,E=e.renderBodyRow,P=e.selectable,_=e.singleLine,q=e.size,T=e.sortable,z=e.stackable,B=e.striped,F=e.structured,H=e.tableData,L=e.textAlign,O=e.unstackable,D=e.verticalAlign,X=(0,p.Z)("ui",i,q,(0,h.lG)(n,"celled"),(0,h.lG)(l,"collapsing"),(0,h.lG)(g,"definition"),(0,h.lG)(b,"fixed"),(0,h.lG)(k,"inverted"),(0,h.lG)(P,"selectable"),(0,h.lG)(_,"single line"),(0,h.lG)(T,"sortable"),(0,h.lG)(z,"stackable"),(0,h.lG)(B,"striped"),(0,h.lG)(F,"structured"),(0,h.lG)(O,"unstackable"),(0,h.sU)(r,"attached"),(0,h.sU)(t,"basic"),(0,h.sU)(Z,"compact"),(0,h.sU)(y,"padded"),(0,h.X4)(L),(0,h.Ok)(D),(0,h.H0)(o,"column"),"table",a),K=(0,v.Z)(C,e),S=(0,f.Z)(C,e);if(!m.kK(s))return c.createElement(S,(0,d.Z)({},K,{className:X}),s);var U={defaultProps:{cellAs:"th"}},W=(j||G)&&c.createElement(N,null,R.create(j,U),(0,u.Z)(G,(function(e){return R.create(e,U)})));return c.createElement(S,(0,d.Z)({},K,{className:X}),W,c.createElement(x,null,E&&(0,u.Z)(H,(function(e,r){return R.create(E(e,r))}))),w&&c.createElement(A,null,R.create(w)))}C.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],C.defaultProps={as:"table"},C.propTypes={},C.Body=x,C.Cell=j,C.Footer=A,C.Header=N,C.HeaderCell=E,C.Row=R;var _=C,q=t(80967),T=t(96215),z=t(4111),B=t(47568),F=t(14924),H=t(34051),L=t.n(H),O=t(1508),D=t(57950),X=function(e){(0,a.Z)(t,e);var r=(0,l.Z)(t);function t(){var e;(0,n.Z)(this,t),e=r.apply(this,arguments);var s=(0,z.Z)(e);(0,F.Z)((0,z.Z)(e),"onApprove",(0,B.Z)(L().mark((function e(){var r,t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,D.Z)(s.props.address),e.next=3,O.Z.eth.getAccounts();case 3:return t=e.sent,e.next=6,r.methods.approveRequest(s.props.id).send({from:t[0]});case 6:case"end":return e.stop()}}),e)}))));var a=(0,z.Z)(e);return(0,F.Z)((0,z.Z)(e),"onFinalize",(0,B.Z)(L().mark((function e(){var r,t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,D.Z)(a.props.address),e.next=3,O.Z.eth.getAccounts();case 3:return t=e.sent,e.next=6,r.methods.finalizeRequest(a.props.id).send({from:t[0]});case 6:case"end":return e.stop()}}),e)})))),e}return(0,s.Z)(t,[{key:"render",value:function(){var e=_.Row,r=_.Cell,t=this.props,n=t.id,s=t.request,a=t.contributersCount,l=s.approvalCount>a/2;return(0,i.jsxs)(e,{disabled:s.complete,positive:l&&!s.complete,children:[(0,i.jsx)(r,{children:n}),(0,i.jsx)(r,{children:s.description}),(0,i.jsx)(r,{children:O.Z.utils.fromWei(s.value,"ether")}),(0,i.jsx)(r,{children:s.recipient}),(0,i.jsxs)(r,{children:[s.approvalCount,"/",a]}),(0,i.jsx)(r,{children:(0,i.jsx)(q.Z,{disabled:s.complete,color:"green",onClick:this.onApprove,children:"Approve"})}),(0,i.jsx)(r,{children:(0,i.jsx)(q.Z,{disabled:s.complete||!l,color:"teal",onClick:this.onFinalize,children:"Finalize"})})]})}}]),t}(c.Component),K=X,S=function(e){(0,a.Z)(t,e);var r=(0,l.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"renderRows",value:function(){var e=this,r=this.props.requests;return(r=JSON.parse(r)).map((function(r,t){return(0,i.jsx)(K,{id:t,request:r,address:e.props.address,contributersCount:e.props.contributersCount},t)}))}},{key:"render",value:function(){_.Header;var e=_.Row,r=_.HeaderCell,t=_.Body;return(0,i.jsxs)(o.Z,{children:[(0,i.jsx)("h3",{children:" Show Requests "}),(0,i.jsx)(T.Link,{route:"/ideas/".concat(this.props.address),children:(0,i.jsx)("a",{children:"Back"})}),(0,i.jsx)(T.Link,{route:"/ideas/requests/add/".concat(this.props.address),children:(0,i.jsx)("a",{children:(0,i.jsx)(q.Z,{primary:!0,floated:"right",style:{marginBottom:15},children:" Add Request "})})}),(0,i.jsxs)(_,{children:[(0,i.jsx)(t,{children:(0,i.jsxs)(e,{children:[(0,i.jsx)(r,{children:"ID"}),(0,i.jsx)(r,{children:"Description"}),(0,i.jsx)(r,{children:"Amount"}),(0,i.jsx)(r,{children:"Recipient"}),(0,i.jsx)(r,{children:"Approval Count"}),(0,i.jsx)(r,{children:"Approve"}),(0,i.jsx)(r,{children:"Finalize"})]})}),(0,i.jsx)(t,{children:this.renderRows()})]}),(0,i.jsxs)("div",{children:[" Found ",this.props.requestCount," requests. "]})]})}}]),t}(c.Component),U=!0,W=S}},function(e){e.O(0,[774,565,482,714,275,905,194,888,179],(function(){return r=68802,e(e.s=r);var r}));var r=e.O();_N_E=r}]);